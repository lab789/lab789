#include<iostream>
#include<string>
using namespace std;

struct node
{
    int prn;
    string name;
    node* next;
};

node* create(string name,int prn)
{
    node* P = new node();
    P->prn =prn;
    P->name = name;
    P->next = NULL;
    return P;
}


void president(node*&head)
{
    string name;
    int prn;
    if (head !=NULL)
    {
        cout<<"the principal already exist ";
        return;
    }
    cout<<"Enter the name of the president ";
    cin>>name;
    cout<<"Enter the prn of the president ";
    cin>>prn;
    node*P = create(name,prn);
    head = P;
    cout<<"President added successfully\n"; 
    
    
}
void secretary(node*&head)
{
    if(head==NULL)
    {
        cout<<"Add the principal first \n";
    }
    int prn;
    string name;
    cout<<"Enter the name of the secretary \n";
    cin>>name;
    cout<<"Enter th prn of the secreatary \n";
    cin>>prn;
    node*P = create(name,prn);
    node*temp =head;
    while(temp-> next !=NULL)
    {
        temp=temp->next;
    }
    temp->next = P;
}
void members(node*&head)
{
    if(head==NULL)
    {
        cout<<"Add the principal first \n";
        return ;
    }
    int prn;
    string name;
    cout<<"Enter the name of the member \n";
    cin>>name;
    cout<<"Enter the prn of the members \n";
    cin>>prn;
    node*P = create(name, prn);
    node* temp = head;
    while(temp ->next !=NULL)
    {
        temp = temp->next;
    }
    P->next =temp->next;
    temp ->next = P;
    

}
void DPresident(node*&head)
{
    node* temp =head;
    head=temp->next;
    delete temp;
}
void display(node*&head)
{
    node*temp= head;
    cout<<"The list of the club is :\n";
    while(temp != NULL)
    {
    cout<<"Name :"<<temp->name<<"           ";
    cout<<"PRN :"<<temp->prn<<"  \n";
    temp=temp->next;
    }
}
void Dsecretary(node*& head)
{
    if (head == NULL) {
        cout << "List is empty! Add members first.\n";
        return;
    }

    if (head->next == NULL) {
        cout << "There is only the principal. Add a secretary first!\n";
        return;
    }

    node* temp = head;
    while (temp->next->next != NULL) {
        temp = temp->next;
    }


    cout << "Secretary " << temp->next->name << " (PRN: " << temp->next->prn << ") removed successfully.\n";

    delete temp->next;      
    temp->next = NULL;      
}

void DMember(node*& head)
{
    if (head == NULL) {
        cout << "List is empty! Add members first.\n";
        return;
    }

    if (head->next == NULL || head->next->next == NULL) {
        cout << "No members to remove! Only principal and/or secretary exist.\n";
        return;
    }

    int prn;
    cout << "Enter the PRN of the member to remove: \n";
    cin >> prn;

    node* temp = head;
    node* prev = NULL;

    while (temp->next != NULL && temp->next->next != NULL) {
        if (temp->next->prn == prn) {
            node* delNode = temp->next;
            temp->next = delNode->next;
            cout << "Member " << delNode->name << " (PRN: " << delNode->prn << ") removed successfully.\n";
            delete delNode;
            return;
        }
        temp = temp->next;
    }

    cout << "Member with PRN " << prn << " not found or it's the secretary.\n";
}



int main()
{
    int ch;
    node* head =NULL;
    do{
    cout<<"1.add President \n2.display\n3.add secretary\n4.members\n5.Delete president\n6. Delete secreatary\n7.Delete members\n8.Exit...\n";
    cin>>ch;
    switch(ch)
    {
        case 1:
        president(head);
        break;

        case 2:
        display(head);
        break;

        case 3:
        secretary(head);
        break;

        case 4:
        members(head);
        break;

        case 5:
        DPresident(head);
        break;

        case 6:
        Dsecretary(head);
        break;

        case 7:
        DMember(head);
        break;


    }
    }while(ch!=8);
    return 0;
}
